{"version":3,"sources":["../src/o-megamenu.js"],"names":["MegaMenu","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","ARROW_UP_KEYCODE","ARROW_DOWN_KEYCODE","POS_MODULO","Event","ClassName","TRANSITIONING","Dimension","Selector","MEGAMENU","ROOT_NAV","MEGAMENU_PANEL","MEGAMENU_PANEL_NAV","MEGAMENU_NAV","NAV_MENU","NAV_ITEM","NAV_LINK","NAV_LINK_COLLAPSE","NAV_LINK_BACK","NAV_LINK_EXPANDED","element","config","_element","_config","_$navLinks","find","_$goForwardLinks","prev","_$goBackLinks","_$topCollapseMenus","_$navLinkCollapses","_addEventListeners","_addAriaAttributes","length","_initPosition","on","event","_goForward","_goBackward","_manageKeyDown","_collapseFocus","_handleCollapseToggle","$subNavs","attr","each","navId","Util","getUID","$thisNavToggler","$thisNav","$thisNavBackLink","$topMenu","closest","parent","goBackLabel","text","$target","position","parents","index","translatePercentage","$rootNav","addClass","collapse","show","not","css","one","trigger","removeClass","$thisTarget","target","test","tagName","which","next","first","e","$this","$thisCollapse","preventDefault","$targetNav","currentTranslatePos","parseInt","split","navWidth","width","currentTranslatePercentage","hasClass","hide","height","$targetNavToggler","_jQueryInterface","Error","$element","data","Constructor","noConflict","jQuery"],"mappings":";;;;AAEA;;AAEA;;;;;;;AAOA,IAAMA,WAAY,UAACC,CAAD,EAAO;;AAGvB;;;;;;AAMA,MAAIC,OAAO,UAAX;AACA,MAAIC,UAAU,eAAd;AACA,MAAIC,WAAW,aAAf;AACA,MAAIC,qBAAqBJ,EAAEK,EAAF,CAAKJ,IAAL,CAAzB;AACA,MAAIK,qBAAqB,EAAzB,CAbuB,CAaM;AAC7B,MAAIC,sBAAsB,EAA1B,CAduB,CAcO;AAC9B,MAAIC,mBAAmB,EAAvB,CAfuB,CAeI;AAC3B,MAAIC,qBAAqB,EAAzB,CAhBuB,CAgBM;AAC7B,MAAIC,aAAa,CAAjB;;AAEA,MAAMC,QAAQ,EAAd;;AAGA,MAAMC,YAAY;AAChBC,mBAAe;AADC,GAAlB;;AAIA,MAAMC,YAAY,EAAlB;;AAGA,MAAMC,WAAW;AACfC,cAAc,YADC;AAEfC,cAAW,0BAFI;AAGfC,oBAAiB,kBAHF;AAIfC,wBAAqB,6CAJN;AAKfC,kBAAe,yBALA;AAMfC,cAAW,aANI;AAOfC,cAAW,WAPI;AAQfC,cAAW,WARI;AASfC,uBAAoB,iCATL;AAUfC,mBAAgB,gBAVD;AAWfC,uBAAoB;AAXL,GAAjB;;AAeA;;;;;;AA5CuB,MAkDjB3B,QAlDiB;AAoDrB,sBAAY4B,OAAZ,EAAqBC,MAArB,EAA6B;AAAA;;AAC3B,WAAKC,QAAL,GAAgBF,OAAhB;AACD,WAAKG,OAAL,GAAeF,MAAf;AACC,WAAKG,UAAL,GAAkB/B,EAAE,KAAK6B,QAAP,EAAiBG,IAAjB,CAAsBjB,SAASQ,QAA/B,CAAlB;AACA,WAAKU,gBAAL,GAAwBjC,EAAE,KAAK6B,QAAP,EAAiBG,IAAjB,CAAsBjB,SAASK,YAA/B,EAA6Cc,IAA7C,CAAkDnB,SAASQ,QAA3D,CAAxB;AACA,WAAKY,aAAL,GAAqBnC,EAAE,KAAK6B,QAAP,EAAiBG,IAAjB,CAAsBjB,SAASU,aAA/B,CAArB;AACA,WAAKW,kBAAL,GAA0BpC,EAAE,KAAK6B,QAAP,EAAiBG,IAAjB,CAAsBjB,SAASG,cAA/B,CAA1B;AACA,WAAKmB,kBAAL,GAA0BrC,EAAE,KAAK6B,QAAP,EAAiBG,IAAjB,CAAsBjB,SAASS,iBAA/B,CAA1B;AACA,WAAKc,kBAAL;AACA,WAAKC,kBAAL,CAAwB,KAAKV,QAA7B;;AAEA,UAAI7B,EAAE,KAAK8B,OAAP,EAAgBU,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B,aAAKC,aAAL,CAAmBzC,EAAE,KAAK8B,OAAP,CAAnB;AACD;AACF;;AAED;;AAMA;;AAEA;;AA5EqB,uBA8ErBQ,kBA9EqB,iCA8EA;AAAA;;AACnB,WAAKL,gBAAL,CAAsBS,EAAtB,CAAyB,OAAzB,EAAkC,UAACC,KAAD;AAAA,eAAW,MAAKC,UAAL,CAAgBD,KAAhB,CAAX;AAAA,OAAlC;AACA,WAAKR,aAAL,CAAmBO,EAAnB,CAAsB,OAAtB,EAA+B,UAACC,KAAD;AAAA,eAAW,MAAKE,WAAL,CAAiBF,KAAjB,CAAX;AAAA,OAA/B;AACA,WAAKZ,UAAL,CAAgBW,EAAhB,CAAmB,SAAnB,EAA8B,UAACC,KAAD;AAAA,eAAW,MAAKG,cAAL,CAAoBH,KAApB,CAAX;AAAA,OAA9B;AACA,WAAKP,kBAAL,CAAwBM,EAAxB,CAA2B,mBAA3B,EAAgD,KAAKK,cAArD;AACA,WAAKV,kBAAL,CAAwBK,EAAxB,CAA2B,OAA3B,EAAoC,UAACC,KAAD;AAAA,eAAW,MAAKK,qBAAL,CAA2BL,KAA3B,CAAX;AAAA,OAApC;AACD,KApFoB;;AAAA,uBAsFrBJ,kBAtFqB,+BAsFFZ,OAtFE,EAsFO;AAC1B,UAAMsB,WAAWjD,EAAE2B,OAAF,EAAWK,IAAX,CAAgB,yBAAhB,CAAjB;;AAEAhC,QAAE2B,OAAF,EAAWuB,IAAX,CAAgB,MAAhB,EAAwB,aAAxB;AACAlD,QAAE2B,OAAF,EAAWK,IAAX,CAAgB,eAAhB,EAAiCkB,IAAjC,CAAsC,MAAtC,EAA8C,MAA9C;AACAlD,QAAE2B,OAAF,EAAWK,IAAX,CAAgBjB,SAASG,cAAzB,EAAyCgC,IAAzC,CAA8C,MAA9C,EAAsD,MAAtD;AACAlD,QAAE2B,OAAF,EAAWK,IAAX,CAAgB,iCAAhB,EAAmDkB,IAAnD,CAAwD,MAAxD,EAAgE,UAAhE;AACAlD,QAAE2B,OAAF,EAAWK,IAAX,CAAgBjB,SAASU,aAAzB,EAAwCyB,IAAxC,CAA6C,EAAC,eAAe,IAAhB,EAA7C;AACAlD,QAAE2B,OAAF,EAAWK,IAAX,CAAgBjB,SAASO,QAAzB,EAAmC4B,IAAnC,CAAwC,MAAxC,EAAgD,cAAhD;;AAEAD,eAASE,IAAT,CAAc,YAAW;AACvB,YAAMC,QAAQC,KAAKC,MAAL,CAAYrD,IAAZ,CAAd;AACA,YAAMsD,kBAAkBvD,EAAE,IAAF,EAAQkC,IAAR,CAAanB,SAASQ,QAAtB,CAAxB;AACA,YAAMiC,WAAWxD,EAAE,IAAF,CAAjB;AACA,YAAMyD,mBAAmBD,SAASxB,IAAT,CAAcjB,SAASU,aAAvB,CAAzB;AACA,YAAMiC,WAAW1D,EAAE,IAAF,EAAQ2D,OAAR,CAAgB5C,SAASM,QAAzB,EAAmCuC,MAAnC,GAA4CD,OAA5C,CAAoD5C,SAASM,QAA7D,EAAuEa,IAAvE,CAA4EnB,SAASQ,QAArF,CAAjB;AACA,YAAIsC,cAAc,gBAAgBH,SAASI,IAAT,EAAhB,GAAkC,OAApD;;AAEA,YAAG,CAACJ,SAASlB,MAAb,EAAqB;AACnBqB,wBAAc,gBAAgB7D,EAAE,IAAF,EAAQ2D,OAAR,CAAgB5C,SAASG,cAAzB,EAAyCgB,IAAzC,CAA8CnB,SAASQ,QAAvD,EAAiEuC,IAAjE,EAAhB,GAA0F,OAAxG;AACD;;AAEDN,iBAASN,IAAT,CAAc,EAAC,MAAME,KAAP,EAAc,QAAQ,MAAtB,EAAd;AACAG,wBAAgBL,IAAhB,CAAqB,EAAC,QAAQ,UAAT,EAAqB,iBAAiBE,KAAtC,EAA6C,iBAAiB,KAA9D,EAAqE,iBAAiB,IAAtF,EAArB;AACAK,yBAAiBP,IAAjB,CAAsB,EAAC,QAAQ,UAAT,EAAqB,iBAAiBE,KAAtC,EAA6C,cAAcS,WAA3D,EAAtB;AACD,OAfD;AAgBD,KAhHoB;;AAAA,uBAkHrBpB,aAlHqB,0BAkHPsB,OAlHO,EAkHE;AACrB,UAAMC,WAAWD,QAAQE,OAAR,GAAkBC,KAAlB,CAAwB,KAAKrC,QAA7B,CAAjB;AACA,UAAMsC,sBAAsB,EAAEH,WAAWtD,UAAb,IAA2B,GAA3B,GAAiC,CAA7D;AACA,UAAM8C,WAAWO,QAAQJ,OAAR,CAAgB5C,SAASM,QAAzB,CAAjB;AACA,UAAM+C,WAAWpE,EAAEe,SAASE,QAAX,CAAjB;;AAEAmD,eAASC,QAAT,CAAkBzD,UAAUC,aAA5B;;AAEA;AACAkD,cAAQJ,OAAR,CAAgB5C,SAASG,cAAzB,EAAyCoD,QAAzC,CAAkD,MAAlD;;AAEA;AACAP,cAAQE,OAAR,CAAgBlD,SAASM,QAAzB,EAAmCkD,IAAnC;;AAEA;AACAR,cAAQE,OAAR,CAAgBlD,SAASO,QAAzB,EAAmCU,IAAnC,CAAwC,aAAxC,EAAuDwC,GAAvD,CAA2DT,OAA3D,EAAoEb,IAApE,CAAyE,EAAC,YAAY,CAAC,CAAd,EAAiB,eAAe,IAAhC,EAAsC,iBAAiB,IAAvD,EAAzE;;AAEA;AACAkB,eAASK,GAAT,CAAa,WAAb,EAA0B,gBAAgBN,mBAAhB,GAAsC,IAAhE;;AAEAC,eAASM,GAAT,CAAa,eAAb,EAA8B,YAAW;AACvC;AACAX,gBAAQY,OAAR,CAAgB,OAAhB;;AAEAP,iBAASQ,WAAT,CAAqBhE,UAAUC,aAA/B;AACD,OALD;AAOD,KA7IoB;;AAAA,uBA+IrBiC,cA/IqB,2BA+INH,KA/IM,EA+IC;AACpB,UAAMkC,cAAc7E,EAAE2C,MAAMmC,MAAR,CAApB;;AAEA;AACA,UAAI,kBAAkBC,IAAlB,CAAuBpC,MAAMmC,MAAN,CAAaE,OAApC,CAAJ,EAAkD;AAChD;AACD;;AAED;AACA,cAAOrC,MAAMsC,KAAb;AACE,aAAK3E,kBAAL;AACE,eAAKuC,WAAL,CAAiBF,KAAjB;AACA;AACF,aAAKpC,mBAAL;AACE,eAAKqC,UAAL,CAAgBD,KAAhB;AACA;AACF,aAAKnC,gBAAL;AACE;AACAqE,sBAAYjB,MAAZ,GAAqB1B,IAArB,GAA4BF,IAA5B,CAAiC,YAAjC,EAA+CwC,GAA/C,CAAmDzD,SAASU,aAA5D,EAA2EkD,OAA3E,CAAmF,OAAnF;AACA;AACF,aAAKlE,kBAAL;AACE;AACAoE,sBAAYjB,MAAZ,GAAqBsB,IAArB,GAA4BlD,IAA5B,CAAiC,YAAjC,EAA+C2C,OAA/C,CAAuD,OAAvD;AACA;AACF;AACE;AAhBJ;AAkBD,KA1KoB;;AAAA,uBA4KrB5B,cA5KqB,6BA4KL;AACd/C,QAAE,IAAF,EAAQgC,IAAR,CAAajB,SAASQ,QAAtB,EAAgCiD,GAAhC,CAAoCzD,SAASU,aAA7C,EAA4D0D,KAA5D,GAAoER,OAApE,CAA4E,OAA5E;AACD,KA9KoB;;AAAA,uBAgLrB3B,qBAhLqB,kCAgLCoC,CAhLD,EAgLG;AACtB,UAAMC,QAAQrF,EAAEoF,EAAEN,MAAJ,CAAd;AACA,UAAMQ,gBAAgBtF,EAAEqF,MAAMnC,IAAN,CAAW,MAAX,CAAF,CAAtB;;AAEA,WAAKd,kBAAL,CAAwBoC,GAAxB,CAA4Bc,aAA5B,EAA2ChB,QAA3C,CAAoD,MAApD;AACD,KArLoB;;AAAA,uBAuLrB1B,UAvLqB,uBAuLVwC,CAvLU,EAuLP;AACZA,QAAEG,cAAF;AACA,UAAMF,QAAQrF,EAAEoF,EAAEN,MAAJ,CAAd;AACA,UAAMtB,WAAW6B,MAAM1B,OAAN,CAAc5C,SAASM,QAAvB,CAAjB;AACA,UAAMmE,aAAcH,MAAMH,IAAN,CAAWnE,SAASM,QAApB,CAApB;AACA,UAAM+C,WAAWpE,EAAEe,SAASE,QAAX,CAAjB;AACA,UAAMsC,kBAAkB8B,KAAxB;AACA,UAAMI,sBAAsBC,SAAStB,SAASK,GAAT,CAAa,WAAb,EAA0BkB,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAT,EAAkD,EAAlD,CAA5B;AACA,UAAMC,WAAWxB,SAASyB,KAAT,EAAjB;AACA,UAAMC,6BAA6B,MAAML,mBAAN,GAA4BG,QAA/D;;AAEA,UAAG,CAACP,MAAMH,IAAN,CAAWnE,SAASM,QAApB,EAA8BmB,MAA/B,IAAyC4B,SAAS2B,QAAT,CAAkBnF,UAAUC,aAA5B,CAA5C,EAAwF;AACpF,eAAO,KAAP;AACH;;AAEDuD,eAASC,QAAT,CAAkBzD,UAAUC,aAA5B;;AAEA;AACA2C,eAASxB,IAAT,CAAcjB,SAASM,QAAvB,EAAiC2E,IAAjC;;AAEA;AACAR,iBAAWjB,IAAX;;AAEA;AACAvE,QAAEe,SAASC,QAAX,EAAqBiF,MAArB,CAA4BT,WAAWS,MAAX,EAA5B;;AAEA;AACA,UAAGH,+BAA+B,CAAlC,EAAqC;AACjC1B,iBAASpC,IAAT,CAAc,sBAAd,EAAsCkB,IAAtC,CAA2C,EAAC,YAAY,CAAC,CAAd,EAAiB,eAAe,IAAhC,EAA3C;AACH;AACDM,eAASxB,IAAT,CAAcjB,SAASQ,QAAvB,EAAiC2B,IAAjC,CAAsC,EAAC,YAAY,CAAC,CAAd,EAAiB,eAAe,IAAhC,EAAtC;AACAsC,iBAAWxD,IAAX,CAAgBjB,SAASQ,QAAzB,EAAmC2B,IAAnC,CAAwC,EAAC,YAAY,CAAb,EAAgB,eAAe,KAA/B,EAAxC;;AAEA;AACAkB,eAASK,GAAT,CAAa,WAAb,EAA0B,iBAAeqB,6BAA6B,GAA5C,IAAiD,IAA3E;;AAEA;AACA1B,eAASM,GAAT,CAAa,eAAb,EAA8B,YAAW;AACvCnB,wBAAgBL,IAAhB,CAAqB,eAArB,EAAsC,IAAtC;AACAsC,mBAAWxD,IAAX,CAAgBjB,SAASQ,QAAzB,EAAmCiD,GAAnC,CAAuCzD,SAASU,aAAhD,EAA+D0D,KAA/D,GAAuER,OAAvE,CAA+E,OAA/E;AACAP,iBAASQ,WAAT,CAAqBhE,UAAUC,aAA/B;AACD,OAJD;AAKD,KAjOoB;;AAAA,uBAmOrBgC,WAnOqB,wBAmOTuC,CAnOS,EAmON;AACbA,QAAEG,cAAF;;AAEA,UAAMF,QAAQrF,EAAEoF,EAAEN,MAAJ,CAAd;AACA,UAAMtB,WAAW6B,MAAM1B,OAAN,CAAc5C,SAASM,QAAvB,CAAjB;AACA,UAAMmE,aAAahC,SAASI,MAAT,GAAkBD,OAAlB,CAA0B5C,SAASM,QAAnC,CAAnB;AACA,UAAM+C,WAAWpE,EAAEe,SAASE,QAAX,CAAjB;AACA,UAAMiF,oBAAoBV,WAAWxD,IAAX,CAAgBjB,SAASW,iBAAzB,CAA1B;AACA,UAAM+B,mBAAmB4B,KAAzB;AACA,UAAMI,sBAAsBC,SAAStB,SAASK,GAAT,CAAa,WAAb,EAA0BkB,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAT,EAAkD,EAAlD,CAA5B;AACA,UAAMC,WAAWxB,SAASyB,KAAT,EAAjB;AACA,UAAMC,6BAA6B,MAAML,mBAAN,GAA4BG,QAA/D;;AAEA,UAAGE,+BAA+B,CAA/B,IAAoC1B,SAAS2B,QAAT,CAAkBnF,UAAUC,aAA5B,CAAvC,EAAmF;AAC/E,eAAO,KAAP;AACH;;AAEDuD,eAASC,QAAT,CAAkBzD,UAAUC,aAA5B;;AAEA;AACA2E,iBAAWxD,IAAX,CAAgBjB,SAASQ,QAAzB,EAAmC2B,IAAnC,CAAwC,EAAC,YAAY,CAAb,EAAgB,eAAe,KAA/B,EAAxC;AACA,UAAG4C,+BAA+B,CAAC,GAAnC,EAAwC;AACtC;AACA9F,UAAEe,SAASC,QAAX,EAAqByD,GAArB,CAAyB,QAAzB,EAAmC,MAAnC;AACAL,iBAASpC,IAAT,CAAc,sBAAd,EAAsCkB,IAAtC,CAA2C,EAAC,YAAY,CAAb,EAAgB,eAAe,KAA/B,EAA3C;AACD;;AAED;AACAkB,eAASK,GAAT,CAAa,WAAb,EAA0B,iBAAeqB,6BAA6B,GAA5C,IAAiD,IAA3E;;AAEA;AACA1B,eAASM,GAAT,CAAa,eAAb,EAA8B,YAAW;AACvCwB,0BAAkBhD,IAAlB,CAAuB,eAAvB,EAAwC,KAAxC;AACAgD,0BAAkBvB,OAAlB,CAA0B,OAA1B;AACAnB,iBAASwC,IAAT;AACA5B,iBAASQ,WAAT,CAAqBhE,UAAUC,aAA/B;AACD,OALD;AAMD,KAxQoB;;AA0QrB;;AA1QqB,aA4QdsF,gBA5Qc,6BA4QGvE,MA5QH,EA4QW;AAC9B,aAAO,KAAKuB,IAAL,CAAU,YAAY;AAC3B,YAAI,OAAOvB,MAAP,KAAkB,QAAlB,IAA8B,CAAC,UAAUmD,IAAV,CAAenD,MAAf,CAAnC,EAA2D;AACzD,gBAAM,IAAIwE,KAAJ,gBAAuBxE,MAAvB,sCAAN;AACD;;AAED,YAAMyE,WAAWrG,EAAE,IAAF,CAAjB;AACA,YAAIsG,OAAaD,SAASC,IAAT,CAAcnG,QAAd,CAAjB;;AAEA,YAAI,CAACmG,IAAL,EAAW;AACTA,iBAAO,IAAIvG,QAAJ,CAAa,IAAb,EAAmB6B,MAAnB,CAAP;AACAyE,mBAASC,IAAT,CAAcnG,QAAd,EAAwBmG,IAAxB;AACD,SAHD,MAGO;AACL,gBAAM,IAAIF,KAAJ,gBAAuBjG,QAAvB,8BAAN;AACD;AACF,OAdM,CAAP;AAeD,KA5RoB;;AAAA;AAAA;AAAA,0BAsEA;AACnB,eAAOD,OAAP;AACD;AAxEoB;;AAAA;AAAA;;AA+RvB;;;;;;AAMAF,IAAEK,EAAF,CAAKJ,IAAL,IAAyBF,SAASoG,gBAAlC;AACAnG,IAAEK,EAAF,CAAKJ,IAAL,EAAWsG,WAAX,GAAyBxG,QAAzB;AACAC,IAAEK,EAAF,CAAKJ,IAAL,EAAWuG,UAAX,GAAyB,YAAY;AACnCxG,MAAEK,EAAF,CAAKJ,IAAL,IAAaG,kBAAb;AACA,WAAOL,SAASoG,gBAAhB;AACD,GAHD;;AAKA,SAAOpG,QAAP;AAED,CA9SgB,CA8Sd0G,MA9Sc,CAAjB","file":"o-megamenu.js","sourcesContent":["import Util from './util'\n\n/* eslint no-magic-numbers: [\"error\", { \"ignore\": [1,2] }] */\n\n/**\n * --------------------------------------------------------------------------\n * Boosted (v4.0.0-alpha.6): o-megamenu.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MegaMenu = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var NAME = 'megamenu';\n  var VERSION = '4.0.0-alpha.6';\n  var DATA_KEY = 'bs.megamenu';\n  var JQUERY_NO_CONFLICT = $.fn[NAME];\n  var ARROW_LEFT_KEYCODE = 37; // KeyboardEvent.which value for left arrow key\n  var ARROW_RIGHT_KEYCODE = 39; // KeyboardEvent.which value for right arrow key\n  var ARROW_UP_KEYCODE = 38; // KeyboardEvent.which value for up arrow key\n  var ARROW_DOWN_KEYCODE = 40; // KeyboardEvent.which value for down arrow key\n  var POS_MODULO = 5;\n\n  const Event = {\n  }\n\n  const ClassName = {\n    TRANSITIONING: 'transitioning'\n  }\n\n  const Dimension = {\n  }\n\n  const Selector = {\n    MEGAMENU    : '.mega-menu',\n    ROOT_NAV : '.mega-menu > .navbar-nav',\n    MEGAMENU_PANEL : '.mega-menu-panel',\n    MEGAMENU_PANEL_NAV : '.mega-menu-panel > .container > .navbar-nav',\n    MEGAMENU_NAV : '.nav-link + .navbar-nav',\n    NAV_MENU : '.navbar-nav',\n    NAV_ITEM : '.nav-item',\n    NAV_LINK : '.nav-link',\n    NAV_LINK_COLLAPSE : '.nav-link[data-toggle=collapse]',\n    NAV_LINK_BACK : '.nav-link.back',\n    NAV_LINK_EXPANDED : '.nav-link[aria-expanded=true]'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class MegaMenu {\n\n    constructor(element, config) {\n      this._element = element\n\t    this._config = config\n      this._$navLinks = $(this._element).find(Selector.NAV_LINK)\n      this._$goForwardLinks = $(this._element).find(Selector.MEGAMENU_NAV).prev(Selector.NAV_LINK)\n      this._$goBackLinks = $(this._element).find(Selector.NAV_LINK_BACK)\n      this._$topCollapseMenus = $(this._element).find(Selector.MEGAMENU_PANEL)\n      this._$navLinkCollapses = $(this._element).find(Selector.NAV_LINK_COLLAPSE)\n      this._addEventListeners()\n      this._addAriaAttributes(this._element)\n\n      if ($(this._config).length > 0) {\n        this._initPosition($(this._config));\n      }\n    }\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    // public\n\n    // private\n\n    _addEventListeners() {\n      this._$goForwardLinks.on('click', (event) => this._goForward(event))\n      this._$goBackLinks.on('click', (event) => this._goBackward(event))\n      this._$navLinks.on('keydown', (event) => this._manageKeyDown(event))\n      this._$topCollapseMenus.on('shown.bs.collapse', this._collapseFocus)\n      this._$navLinkCollapses.on('click', (event) => this._handleCollapseToggle(event))\n    }\n\n    _addAriaAttributes(element) {\n      const $subNavs = $(element).find('.nav-link + .navbar-nav')\n\n      $(element).attr('role', 'application')\n      $(element).find('> .navbar-nav').attr('role', 'menu')\n      $(element).find(Selector.MEGAMENU_PANEL).attr('role', 'menu')\n      $(element).find('.nav-link[data-toggle=collapse]').attr('role', 'menuitem')\n      $(element).find(Selector.NAV_LINK_BACK).attr({'aria-hidden': true})\n      $(element).find(Selector.NAV_ITEM).attr('role', 'presentation')\n\n      $subNavs.each(function() {\n        const navId = Util.getUID(NAME)\n        const $thisNavToggler = $(this).prev(Selector.NAV_LINK)\n        const $thisNav = $(this)\n        const $thisNavBackLink = $thisNav.find(Selector.NAV_LINK_BACK)\n        const $topMenu = $(this).closest(Selector.NAV_MENU).parent().closest(Selector.NAV_MENU).prev(Selector.NAV_LINK)\n        let goBackLabel = 'go back to ' + $topMenu.text() + ' menu'\n\n        if(!$topMenu.length) {\n          goBackLabel = 'go back to ' + $(this).closest(Selector.MEGAMENU_PANEL).prev(Selector.NAV_LINK).text() + ' menu'\n        }\n\n        $thisNav.attr({'id': navId, 'role': 'menu'})\n        $thisNavToggler.attr({'role': 'menuitem', 'aria-controls': navId, 'aria-expanded': false, 'aria-haspopup': true})\n        $thisNavBackLink.attr({'role': 'menuitem', 'aria-controls': navId, 'aria-label': goBackLabel})\n      })\n    }\n\n    _initPosition($target) {\n      const position = $target.parents().index(this._element)\n      const translatePercentage = -(position % POS_MODULO) * 100 / 2\n      const $thisNav = $target.closest(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // open collapse\n      $target.closest(Selector.MEGAMENU_PANEL).collapse('show')\n\n      // show menu and hide other\n      $target.parents(Selector.NAV_MENU).show()\n\n      // set aria on parent links\n      $target.parents(Selector.NAV_ITEM).find('> .nav-link').not($target).attr({'tabindex': -1, 'aria-hidden': true, 'aria-expanded': true})\n\n      // translate to pos\n      $rootNav.css('transform', 'translateX(' + translatePercentage + '%)')\n\n      $rootNav.one('transitionend', function() {\n        //set focus on target link\n        $target.trigger('focus')\n\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      })\n\n    };\n\n    _manageKeyDown(event) {\n      const $thisTarget = $(event.target)\n\n      // test key code\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return\n      }\n\n      // proceed according to key code\n      switch(event.which){\n        case ARROW_LEFT_KEYCODE:\n          this._goBackward(event)\n          break\n        case ARROW_RIGHT_KEYCODE:\n          this._goForward(event)\n          break\n        case ARROW_UP_KEYCODE:\n          // focus prev nav link\n          $thisTarget.parent().prev().find('>.nav-link').not(Selector.NAV_LINK_BACK).trigger('focus')\n          break\n        case ARROW_DOWN_KEYCODE:\n          // focus next nav link\n          $thisTarget.parent().next().find('>.nav-link').trigger('focus')\n          break\n        default:\n          return\n      }\n    }\n\n    _collapseFocus(){\n      $(this).find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n    }\n\n    _handleCollapseToggle(e){\n      const $this = $(e.target)\n      const $thisCollapse = $($this.attr('href'))\n\n      this._$topCollapseMenus.not($thisCollapse).collapse('hide')\n    }\n\n    _goForward(e) {\n      e.preventDefault();\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav =  $this.next(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $thisNavToggler = $this\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[4], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = 100 * currentTranslatePos / navWidth\n\n      if(!$this.next(Selector.NAV_MENU).length || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n          return false\n      }\n\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // hide all nav on same level\n      $thisNav.find(Selector.NAV_MENU).hide()\n\n      // show target navbar-nav\n      $targetNav.show()\n\n      // adapt main collapse height to target height\n      $(Selector.MEGAMENU).height($targetNav.height())\n\n      // make only visible elements focusable\n      if(currentTranslatePercentage === 0) {\n          $rootNav.find('>.nav-item .nav-link').attr({'tabindex': -1, 'aria-hidden': true})\n      }\n      $thisNav.find(Selector.NAV_LINK).attr({'tabindex': -1, 'aria-hidden': true})\n      $targetNav.find(Selector.NAV_LINK).attr({'tabindex': 0, 'aria-hidden': false})\n\n      // translate menu\n      $rootNav.css('transform', 'translateX('+(currentTranslatePercentage - 100)+'%)')\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', function() {\n        $thisNavToggler.attr('aria-expanded', true)\n        $targetNav.find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      })\n    }\n\n    _goBackward(e) {\n      e.preventDefault()\n\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav = $thisNav.parent().closest(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $targetNavToggler = $targetNav.find(Selector.NAV_LINK_EXPANDED)\n      const $thisNavBackLink = $this\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[4], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = 100 * currentTranslatePos / navWidth\n\n      if(currentTranslatePercentage === 0 || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n          return false\n      }\n\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // make only visible elements focusable\n      $targetNav.find(Selector.NAV_LINK).attr({'tabindex': 0, 'aria-hidden': false})\n      if(currentTranslatePercentage === -100) {\n        // reset main collapse height\n        $(Selector.MEGAMENU).css('height', 'auto')\n        $rootNav.find('>.nav-item .nav-link').attr({'tabindex': 0, 'aria-hidden': false})\n      }\n\n      // translate menu\n      $rootNav.css('transform', 'translateX('+(currentTranslatePercentage + 100)+'%)')\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', function() {\n        $targetNavToggler.attr('aria-expanded', false)\n        $targetNavToggler.trigger('focus')\n        $thisNav.hide()\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      })\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        if (typeof config !== 'string' || !/^[.#].*/.test(config)) {\n          throw new Error(`Selector \"${config}\" is not a valid jQuery Selector`)\n        }\n\n        const $element = $(this)\n        let data       = $element.data(DATA_KEY)\n\n        if (!data) {\n          data = new MegaMenu(this, config)\n          $element.data(DATA_KEY, data)\n        } else {\n          throw new Error(`Component ${DATA_KEY} was already initialized`)\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = MegaMenu._jQueryInterface\n  $.fn[NAME].Constructor = MegaMenu\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return MegaMenu._jQueryInterface\n  }\n\n  return MegaMenu\n\n})(jQuery)\n\nexport default MegaMenu\n"]}