{"version":3,"sources":["../src/o-megamenu.js"],"names":["MegaMenu","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","Event","MEGAMENU_SHOWN","MEGAMENU_SHOW","MEGAMENU_HIDE","ClassName","FOLDED","NAVBAR_TOGGLE_ICON_OPEN","NAVBAR_TOGGLE_ICON_CLOSE","Dimension","MEDIA_BP_SM","NAVBAR_HEIGHT_PX","Selector","MEGAMENU","MEGAMENU_TITLE_L1","MEGAMENU_TITLE_L2","MEGAMENU_FOOTER","NAVBAR","NAVBAR_TOGGLER","NAVBAR_ITEM","NAVBAR_ITEM_FOLDED","NAVBAR_ITEM_MEGAMENU_TOGGLE","element","_element","_addEventListeners","on","find","trigger","_jQueryInterface","config","each","$this","data","_config","extend","undefined","Error","document","ready","window","innerWidth","hasClass","hide","not","next","show","addClass","css","removeClass","parseInt","parentItem","parent","attr","collapse","Constructor","noConflict","jQuery"],"mappings":"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","file":"o-megamenu.js","sourcesContent":["/* eslint no-magic-numbers: [\"error\", { \"ignore\": [1,2] }] */\n\n/**\n * --------------------------------------------------------------------------\n * Boosted (v4.0.0-alpha.6): o-megamenu.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MegaMenu = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'megamenu'\n  const VERSION             = '4.0.0-alpha.6'\n  const DATA_KEY            = 'bs.megamenu'\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n\n  const Event = {\n    MEGAMENU_SHOWN : 'shown.bs.collapse',\n    MEGAMENU_SHOW : 'show.bs.collapse',\n    MEGAMENU_HIDE : 'hide.bs.collapse'\n  }\n\n  const ClassName = {\n    FOLDED : 'folded',\n    NAVBAR_TOGGLE_ICON_OPEN : 'icon-menu',\n    NAVBAR_TOGGLE_ICON_CLOSE : 'icon-delete'\n  }\n\n  const Dimension = {\n    MEDIA_BP_SM : 544,\n    NAVBAR_HEIGHT_PX : '50px'\n  }\n\n  const Selector = {\n    MEGAMENU    : '.mega-menu',\n    MEGAMENU_TITLE_L1 : '.mega-menu h2',\n    MEGAMENU_TITLE_L2 : '.mega-menu h3',\n    MEGAMENU_FOOTER : '.mega-menu .footer',\n    NAVBAR : 'header .navbar-toggleable-xs.collapse',\n    NAVBAR_TOGGLER : 'header .navbar-toggler',\n    NAVBAR_ITEM : 'header .navbar-toggleable-xs.collapse .nav-item',\n    NAVBAR_ITEM_FOLDED : 'header .navbar-toggleable-xs.collapse .nav-item.folded a[data-toggle=\"collapse\"]',\n    NAVBAR_ITEM_MEGAMENU_TOGGLE   : 'header .navbar-toggleable-xs.collapse .nav-item .nav-link[data-toggle=\"collapse\"]'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class MegaMenu {\n\n    constructor(element) {\n      this._element = element\n      this._addEventListeners()\n    }\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    // public\n\n    // private\n    _addEventListeners() {\n      // megamenu accessibility\n      $(this._element).on(Event.MEGAMENU_SHOWN, function () {\n        // set focus on first focusable link (ignore aria-hidden)\n        $(this).find('a:not([aria-hidden=\"true\"]):first').trigger('focus')\n      })\n    }\n\n    // static\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let $this   = $(this)\n        let data    = $this.data(DATA_KEY)\n        let _config = $.extend(\n          {},\n        //   Default,\n          $this.data(),\n          typeof config === 'object' && config\n        )\n\n        if (!data) {\n          data = new MegaMenu(this, _config)\n          $this.data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n  }\n\n  $(document).ready(() => {\n\n    if (window.innerWidth < Dimension.MEDIA_BP_SM) {\n\n      $(Selector.MEGAMENU_TITLE_L2).on('click', function () {\n\n        if (!$(this).hasClass(ClassName.FOLDED)) {\n          $(Selector.MEGAMENU_TITLE_L1).hide()\n          $(Selector.MEGAMENU_TITLE_L2).not($(this)).hide()\n          $(this).next('ul').show()\n          $(Selector.MEGAMENU_FOOTER).hide()\n          $(this).addClass(ClassName.FOLDED)\n          $(Selector.MEGAMENU).css('top', Dimension.NAVBAR_HEIGHT_PX)\n        } else {\n          $(Selector.MEGAMENU_TITLE_L1).show()\n          $(Selector.MEGAMENU_TITLE_L2).not($(this)).show()\n          $(this).next('ul').hide()\n          $(Selector.MEGAMENU_FOOTER).show()\n          $(this).removeClass(ClassName.FOLDED)\n          $(Selector.MEGAMENU).css('top', `${parseInt(Dimension.NAVBAR_HEIGHT_PX, 10) * 2}px`)\n        }\n      })\n\n      // navbar\n      $(Selector.NAVBAR_ITEM_MEGAMENU_TOGGLE).on('click', function () {\n        let parentItem = $(this).parent()\n\n        if (!parentItem.hasClass(ClassName.FOLDED)) {\n          parentItem.addClass(ClassName.FOLDED)\n          $(Selector.NAVBAR_ITEM).not(parentItem).hide()\n        } else {\n          parentItem.removeClass(ClassName.FOLDED)\n          $(Selector.NAVBAR_ITEM).show()\n        }\n      })\n\n      $(Selector.NAVBAR).on(Event.MEGAMENU_HIDE, () => {\n        // switch toggler icon\n        $(Selector.NAVBAR_TOGGLER).find(`.${ClassName.NAVBAR_TOGGLE_ICON_CLOSE}`).removeClass(ClassName.NAVBAR_TOGGLE_ICON_CLOSE).addClass(ClassName.NAVBAR_TOGGLE_ICON_OPEN)\n\n        // close mega-menu\n        if ($(Selector.NAVBAR_ITEM_FOLDED)) {\n          $($(Selector.NAVBAR_ITEM_FOLDED).attr('href')).collapse('hide')\n        }\n      })\n\n      $(Selector.NAVBAR).on(Event.MEGAMENU_SHOW, () => {\n        // switch toggler icon\n        $(Selector.NAVBAR_TOGGLER).find(`.${ClassName.NAVBAR_TOGGLE_ICON_OPEN}`).removeClass(ClassName.NAVBAR_TOGGLE_ICON_OPEN).addClass(ClassName.NAVBAR_TOGGLE_ICON_CLOSE)\n\n        // reset all items\n        $(Selector.NAVBAR_ITEM).removeClass(ClassName.FOLDED)\n        $(Selector.NAVBAR_ITEM).show()\n\n        // reset navigation\n        $(Selector.MEGAMENU_TITLE_L2).removeClass(ClassName.FOLDED)\n        $(Selector.MEGAMENU_TITLE_L1).show()\n        $(Selector.MEGAMENU_TITLE_L2).show()\n        $(Selector.MEGAMENU_FOOTER).show()\n        $(`${Selector.MEGAMENU} ul`).hide()\n        $(Selector.MEGAMENU).css('top', `${parseInt(Dimension.NAVBAR_HEIGHT_PX, 10) * 2}px`)\n      })\n    }\n  })\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = MegaMenu._jQueryInterface\n  $.fn[NAME].Constructor = MegaMenu\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return MegaMenu._jQueryInterface\n  }\n\n  return MegaMenu\n\n})(jQuery)\n\nexport default MegaMenu\n"]}