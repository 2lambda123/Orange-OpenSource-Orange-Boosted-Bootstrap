{"version":3,"sources":["../src/o-megamenu.js"],"names":["MegaMenu","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","ARROW_UP_KEYCODE","ARROW_DOWN_KEYCODE","Event","ClassName","TRANSITIONING","Dimension","Selector","MEGAMENU","ROOT_NAV","MEGAMENU_PANEL","MEGAMENU_PANEL_NAV","MEGAMENU_NAV","NAV_MENU","NAV_ITEM","NAV_LINK","NAV_LINK_COLLAPSE","NAV_LINK_BACK","NAV_LINK_EXPANDED","element","_element","_$navLinks","find","_$goForwardLinks","prev","_$goBackLinks","_$topCollapseMenus","_$navLinkCollapses","_addEventListeners","_addAriaAttributes","on","event","_goForward","_goBackward","_manageKeyDown","_collapseFocus","_handleCollapseToggle","$subNavs","attr","each","navId","Util","getUID","$thisNavToggler","$thisNav","$thisNavBackLink","$topMenu","closest","parent","goBackLabel","text","length","$thisTarget","target","test","tagName","which","not","trigger","next","first","e","$this","$thisCollapse","collapse","preventDefault","$targetNav","$rootNav","currentTranslatePos","parseInt","css","split","navWidth","width","currentTranslatePercentage","hasClass","addClass","hide","show","height","one","removeClass","$targetNavToggler","_jQueryInterface","config","data","_config","extend","undefined","Error","Constructor","noConflict","jQuery"],"mappings":"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","file":"o-megamenu.js","sourcesContent":["import Util from './util'\n\n/* eslint no-magic-numbers: [\"error\", { \"ignore\": [1,2] }] */\n\n/**\n * --------------------------------------------------------------------------\n * Boosted (v4.0.0-alpha.6): o-megamenu.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MegaMenu = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'megamenu'\n  const VERSION             = '4.0.0-alpha.6'\n  const DATA_KEY            = 'bs.megamenu'\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n  const ARROW_LEFT_KEYCODE  = 37 // KeyboardEvent.which value for left arrow key\n  const ARROW_RIGHT_KEYCODE = 39 // KeyboardEvent.which value for right arrow key\n  const ARROW_UP_KEYCODE  = 38 // KeyboardEvent.which value for up arrow key\n  const ARROW_DOWN_KEYCODE = 40 // KeyboardEvent.which value for down arrow key\n\n  const Event = {\n  }\n\n  const ClassName = {\n    TRANSITIONING: 'transitioning'\n  }\n\n  const Dimension = {\n  }\n\n  const Selector = {\n    MEGAMENU    : '.mega-menu',\n    ROOT_NAV : '.mega-menu > .navbar-nav',\n    MEGAMENU_PANEL : '.mega-menu-panel',\n    MEGAMENU_PANEL_NAV : '.mega-menu-panel > .container > .navbar-nav',\n    MEGAMENU_NAV : '.nav-link + .navbar-nav',\n    NAV_MENU : '.navbar-nav',\n    NAV_ITEM : '.nav-item',\n    NAV_LINK : '.nav-link',\n    NAV_LINK_COLLAPSE : '.nav-link[data-toggle=collapse]',\n    NAV_LINK_BACK : '.nav-link.back',\n    NAV_LINK_EXPANDED : '.nav-link[aria-expanded=true]'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class MegaMenu {\n\n    constructor(element) {\n      this._element = element\n      this._$navLinks = $(this._element).find(Selector.NAV_LINK)\n      this._$goForwardLinks = $(this._element).find(Selector.MEGAMENU_NAV).prev(Selector.NAV_LINK)\n      this._$goBackLinks = $(this._element).find(Selector.NAV_LINK_BACK)\n      this._$topCollapseMenus = $(this._element).find(Selector.MEGAMENU_PANEL)\n      this._$navLinkCollapses = $(this._element).find(Selector.NAV_LINK_COLLAPSE)\n      this._addEventListeners()\n      this._addAriaAttributes(this._element)\n    }\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    // public\n\n    // private\n\n    _addEventListeners() {\n      this._$goForwardLinks.on('click', (event) => this._goForward(event))\n      this._$goBackLinks.on('click', (event) => this._goBackward(event))\n      this._$navLinks.on('keydown', (event) => this._manageKeyDown(event))\n      this._$topCollapseMenus.on('shown.bs.collapse', this._collapseFocus)\n      this._$navLinkCollapses.on('click', (event) => this._handleCollapseToggle(event))\n    }\n\n    _addAriaAttributes(element) {\n      const $subNavs = $(element).find('.nav-link + .navbar-nav')\n\n      $(element).attr('role', 'application')\n      $(element).find('> .navbar-nav').attr('role', 'menu')\n      $(element).find(Selector.MEGAMENU_PANEL).attr('role', 'menu')\n      $(element).find('.nav-link[data-toggle=collapse]').attr('role', 'menuitem')\n      $(element).find(Selector.NAV_LINK_BACK).attr({'aria-hidden': true})\n      $(element).find(Selector.NAV_ITEM).attr('role', 'presentation')\n\n      $subNavs.each(function() {\n        const navId = Util.getUID(NAME)\n        const $thisNavToggler = $(this).prev(Selector.NAV_LINK)\n        const $thisNav = $(this)\n        const $thisNavBackLink = $thisNav.find(Selector.NAV_LINK_BACK)\n        const $topMenu = $(this).closest(Selector.NAV_MENU).parent().closest(Selector.NAV_MENU).prev(Selector.NAV_LINK)\n        let goBackLabel = 'go back to ' + $topMenu.text() + ' menu'\n\n        if(!$topMenu.length) {\n          goBackLabel = 'go back to ' + $(this).closest(Selector.MEGAMENU_PANEL).prev(Selector.NAV_LINK).text() + ' menu'\n        }\n\n        $thisNav.attr({'id': navId, 'role': 'menu'})\n        $thisNavToggler.attr({'role': 'menuitem', 'aria-controls': navId, 'aria-expanded': false, 'aria-haspopup': true})\n        $thisNavBackLink.attr({'role': 'menuitem', 'aria-controls': navId, 'aria-label': goBackLabel})\n      })\n    }\n\n    _manageKeyDown(event) {\n      const $thisTarget = $(event.target)\n\n      // test key code\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return\n      }\n\n      // proceed according to key code\n      switch(event.which){\n        case ARROW_LEFT_KEYCODE:\n          this._goBackward(event)\n          break\n        case ARROW_RIGHT_KEYCODE:\n          this._goForward(event)\n          break\n        case ARROW_UP_KEYCODE:\n          // focus prev nav link\n          $thisTarget.parent().prev().find('>.nav-link').not(Selector.NAV_LINK_BACK).trigger('focus')\n          break\n        case ARROW_DOWN_KEYCODE:\n          // focus next nav link\n          $thisTarget.parent().next().find('>.nav-link').trigger('focus')\n          break\n        default:\n          return\n      }\n    }\n\n    _collapseFocus(){\n      $(this).find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n    }\n\n    _handleCollapseToggle(e){\n      const $this = $(e.target)\n      const $thisCollapse = $($this.attr('href'))\n\n      this._$topCollapseMenus.not($thisCollapse).collapse('hide')\n    }\n\n    _goForward(e) {\n      e.preventDefault();\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav =  $this.next(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $thisNavToggler = $this\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[4], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = 100 * currentTranslatePos / navWidth\n\n      if(!$this.next(Selector.NAV_MENU).length || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n          return false\n      }\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // hide all nav on same level\n      $thisNav.find(Selector.NAV_MENU).hide()\n\n      // show target navbar-nav\n      $targetNav.show()\n\n      // adapt main collapse height to target height\n      $(Selector.MEGAMENU).height($targetNav.height())\n\n      // make only visible elements focusable\n      if(currentTranslatePercentage === 0) {\n          $rootNav.find('>.nav-item .nav-link').attr({'tabindex': -1, 'aria-hidden': true})\n      }\n      $thisNav.find(Selector.NAV_LINK).attr({'tabindex': -1, 'aria-hidden': true})\n      $targetNav.find(Selector.NAV_LINK).attr({'tabindex': 0, 'aria-hidden': false})\n\n      // translate menu\n      $rootNav.css('transform', 'translateX('+(currentTranslatePercentage - 100)+'%)')\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', function() {\n        $thisNavToggler.attr('aria-expanded', true)\n        $targetNav.find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      })\n    }\n\n    _goBackward(e) {\n      e.preventDefault()\n\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav = $thisNav.parent().closest(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $targetNavToggler = $targetNav.find(Selector.NAV_LINK_EXPANDED)\n      const $thisNavBackLink = $this\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[4], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = 100 * currentTranslatePos / navWidth\n\n      if(currentTranslatePercentage === 0 || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n          return false\n      }\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // make only visible elements focusable\n      $targetNav.find(Selector.NAV_LINK).attr({'tabindex': 0, 'aria-hidden': false})\n      if(currentTranslatePercentage === -100) {\n        // reset main collapse height\n        $(Selector.MEGAMENU).css('height', 'auto')\n        $rootNav.find('>.nav-item .nav-link').attr({'tabindex': 0, 'aria-hidden': false})\n      }\n\n      // translate menu\n      $rootNav.css('transform', 'translateX('+(currentTranslatePercentage + 100)+'%)')\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', function() {\n        $targetNavToggler.attr('aria-expanded', false)\n        $targetNavToggler.trigger('focus')\n        $thisNav.hide()\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      })\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        const $this   = $(this)\n        let data    = $this.data(DATA_KEY)\n        const _config = $.extend(\n          {},\n        //   Default,\n          $this.data(),\n          typeof config === 'object' && config\n        )\n\n        if (!data) {\n          data = new MegaMenu(this, _config)\n          $this.data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = MegaMenu._jQueryInterface\n  $.fn[NAME].Constructor = MegaMenu\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return MegaMenu._jQueryInterface\n  }\n\n  return MegaMenu\n\n})(jQuery)\n\nexport default MegaMenu\n"]}