{"version":3,"sources":["../src/o-megamenu.js"],"names":["MegaMenu","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","ARROW_UP_KEYCODE","ARROW_DOWN_KEYCODE","TIMEOUT","PERCENTAGE","SPLITLENGHT","ClassName","TRANSITIONING","Selector","MEGAMENU","ROOT_NAV","MEGAMENU_PANEL","MEGAMENU_NAV","NAV_MENU","NAV_ITEM","NAV_LINK","NAV_LINK_COLLAPSE","NAV_LINK_BACK","NAV_LINK_EXPANDED","element","config","_element","_config","_$navLinks","find","_$goForwardLinks","prev","_$goBackLinks","_$topCollapseMenus","_$navLinkCollapses","_addEventListeners","_addAriaAttributes","goTo","_initPosition","on","event","_goForward","_goBackward","_manageKeyDown","_collapseFocus","_handleCollapseToggle","$subNavs","attr","each","navId","Util","getUID","$thisNavToggler","$thisNav","$thisNavBackLink","$topMenu","closest","parent","goBackLabel","text","length","id","role","target","$target","first","position","parents","index","rootPosition","translatePercentage","$rootNav","addClass","collapse","show","not","tabindex","css","height","setTimeout","trigger","removeClass","$thisTarget","test","tagName","which","next","e","$this","$thisCollapse","preventDefault","$targetNav","currentTranslatePos","parseInt","split","navWidth","width","currentTranslatePercentage","hasClass","hide","one","$targetNavToggler","_jQueryInterface","$element","is","Error","data","Constructor","noConflict","jQuery"],"mappings":"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","file":"o-megamenu.js","sourcesContent":["import Util from './util'\n\n/* eslint no-magic-numbers: [\"error\", { \"ignore\": [1,2] }] */\n\n/**\n * --------------------------------------------------------------------------\n * Boosted (v4.0.0-alpha.6): o-megamenu.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MegaMenu = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'megamenu'\n  const VERSION = '4.0.0-alpha.6'\n  const DATA_KEY = 'bs.megamenu'\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n  const ARROW_LEFT_KEYCODE = 37 // KeyboardEvent.which value for left arrow key\n  const ARROW_RIGHT_KEYCODE = 39 // KeyboardEvent.which value for right arrow key\n  const ARROW_UP_KEYCODE = 38 // KeyboardEvent.which value for up arrow key\n  const ARROW_DOWN_KEYCODE = 40 // KeyboardEvent.which value for down arrow key\n  const TIMEOUT = 1000 // Timeout befor focusing first element\n  const PERCENTAGE = 100 // Width slide proportion\n  const SPLITLENGHT = 4\n\n  const ClassName = {\n    TRANSITIONING: 'transitioning'\n  }\n\n  const Selector = {\n    MEGAMENU    : '.mega-menu',\n    ROOT_NAV : '.mega-menu > .navbar-nav',\n    MEGAMENU_PANEL : '.mega-menu-panel',\n    MEGAMENU_NAV : '.nav-link + .navbar-nav',\n    NAV_MENU : '.navbar-nav',\n    NAV_ITEM : '.nav-item',\n    NAV_LINK : '.nav-link',\n    NAV_LINK_COLLAPSE : '.nav-link[data-toggle=collapse]',\n    NAV_LINK_BACK : '.nav-link.back',\n    NAV_LINK_EXPANDED : '.nav-link[aria-expanded=true]'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class MegaMenu {\n\n    constructor(element, config) {\n      this._element = element\n      this._config = config\n      this._$navLinks = $(this._element).find(Selector.NAV_LINK)\n      this._$goForwardLinks = $(this._element).find(Selector.MEGAMENU_NAV).prev(Selector.NAV_LINK)\n      this._$goBackLinks = $(this._element).find(Selector.NAV_LINK_BACK)\n      this._$topCollapseMenus = $(this._element).find(Selector.MEGAMENU_PANEL)\n      this._$navLinkCollapses = $(this._element).find(Selector.NAV_LINK_COLLAPSE)\n      this._addEventListeners()\n      this._addAriaAttributes(this._element)\n      this.goTo = this._initPosition\n    }\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    // public\n\n    // private\n\n    _addEventListeners() {\n      this._$goForwardLinks.on('click', (event) => this._goForward(event))\n      this._$goBackLinks.on('click', (event) => this._goBackward(event))\n      this._$navLinks.on('keydown', (event) => this._manageKeyDown(event))\n      this._$topCollapseMenus.on('shown.bs.collapse', this._collapseFocus)\n      this._$navLinkCollapses.on('click', (event) => this._handleCollapseToggle(event))\n    }\n\n    _addAriaAttributes(element) {\n      const $subNavs = $(element).find('.nav-link + .navbar-nav')\n\n      $(element).attr('role', 'application')\n      $(element).find('> .navbar-nav').attr('role', 'menu')\n      $(element).find(Selector.MEGAMENU_PANEL).attr('role', 'menu')\n      $(element).find('.nav-link[data-toggle=collapse]').attr('role', 'menuitem')\n      $(element).find(Selector.NAV_LINK_BACK).attr({\n        'aria-hidden': true\n      })\n      $(element).find(Selector.NAV_ITEM).attr('role', 'presentation')\n\n      $subNavs.each(function () {\n        const navId = Util.getUID(NAME)\n        const $thisNavToggler = $(this).prev(Selector.NAV_LINK)\n        const $thisNav = $(this)\n        const $thisNavBackLink = $thisNav.find(Selector.NAV_LINK_BACK)\n        const $topMenu = $(this).closest(Selector.NAV_MENU).parent().closest(Selector.NAV_MENU).prev(Selector.NAV_LINK)\n        let goBackLabel = `go back to ${$topMenu.text()} menu`\n\n        if (!$topMenu.length) {\n          goBackLabel = `go back to ${$(this).closest(Selector.MEGAMENU_PANEL).prev(Selector.NAV_LINK).text()} menu`\n        }\n\n        $thisNav.attr({\n          id: navId,\n          role: 'menu'\n        })\n        $thisNavToggler.attr({\n          role: 'menuitem',\n          'aria-controls': navId,\n          'aria-expanded': false,\n          'aria-haspopup': true\n        })\n        $thisNavBackLink.attr({\n          role: 'menuitem',\n          'aria-controls': navId,\n          'aria-label': goBackLabel\n        })\n      })\n    }\n\n    _initPosition(target) {\n      if (!$(target).length) {\n        return\n      }\n\n      const $target = $(target).first()\n      const position = $target.parents().index(this._element)\n      const rootPosition = $('.mega-menu-panel .nav-link').first().parents().index($('.mega-menu'))\n      const translatePercentage = -(position - rootPosition) * PERCENTAGE / 2\n      const $thisNav = $target.closest(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // open collapse\n      $target.closest(Selector.MEGAMENU_PANEL).collapse('show')\n\n      // show menu and hide other\n      $target.parents(Selector.NAV_MENU).show()\n\n      // set aria on parent links\n      $target.parents(Selector.NAV_ITEM).find('> .nav-link').not($target).attr({\n        tabindex: -1,\n        'aria-hidden': true,\n        'aria-expanded': true\n      })\n\n      // translate to pos\n      $rootNav.css('transform', `translateX(${translatePercentage}%)`)\n\n      // adapt main collapse height to target height\n      $(this._element).height($thisNav.height())\n\n      // set focus on target link\n      setTimeout(() =>  {\n        // set focus on target link\n        $target.trigger('focus')\n\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      }, TIMEOUT)\n    }\n\n    _manageKeyDown(event) {\n      const $thisTarget = $(event.target)\n\n      // test key code\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return\n      }\n\n      // proceed according to key code\n      switch (event.which) {\n        case ARROW_LEFT_KEYCODE:\n          this._goBackward(event)\n          break\n        case ARROW_RIGHT_KEYCODE:\n          this._goForward(event)\n          break\n        case ARROW_UP_KEYCODE:\n          // focus prev nav link\n          $thisTarget.parent().prev().find('>.nav-link').not(Selector.NAV_LINK_BACK).trigger('focus')\n          break\n        case ARROW_DOWN_KEYCODE:\n          // focus next nav link\n          $thisTarget.parent().next().find('>.nav-link').trigger('focus')\n          break\n        default:\n          return\n      }\n    }\n\n    _collapseFocus() {\n      $(this).find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n    }\n\n    _handleCollapseToggle(e) {\n      const $this = $(e.target)\n      const $thisCollapse = $($this.attr('href'))\n\n      this._$topCollapseMenus.not($thisCollapse).collapse('hide')\n    }\n\n    _goForward(e) {\n      e.preventDefault()\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav =  $this.next(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $thisNavToggler = $this\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[SPLITLENGHT], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = PERCENTAGE * currentTranslatePos / navWidth\n\n      if (!$this.next(Selector.NAV_MENU).length || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n        return false\n      }\n\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // hide all nav on same level\n      $thisNav.find(Selector.NAV_MENU).hide()\n\n      // show target navbar-nav\n      $targetNav.show()\n\n      // adapt main collapse height to target height\n      $(Selector.MEGAMENU).height($targetNav.height())\n\n      // make only visible elements focusable\n      if (!currentTranslatePercentage) {\n        $rootNav.find('>.nav-item .nav-link').attr({\n          tabindex: -1,\n          'aria-hidden': true\n        })\n      }\n      $thisNav.find(Selector.NAV_LINK).attr({\n        tabindex: -1,\n        'aria-hidden': true\n      })\n      $targetNav.find(Selector.NAV_LINK).attr({\n        tabindex: 0,\n        'aria-hidden': false\n      })\n\n      // translate menu\n      $rootNav.css('transform', `translateX(${currentTranslatePercentage - PERCENTAGE}%)`)\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', () => {\n        $thisNavToggler.attr('aria-expanded', true)\n        $targetNav.find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      })\n      return true\n    }\n\n    _goBackward(e) {\n      e.preventDefault()\n\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav = $thisNav.parent().closest(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $targetNavToggler = $targetNav.find(Selector.NAV_LINK_EXPANDED)\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[SPLITLENGHT], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = PERCENTAGE * currentTranslatePos / navWidth\n\n      if (!currentTranslatePercentage || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n        return false\n      }\n\n      $rootNav.addClass(ClassName.TRANSITIONING)\n\n      // make only visible elements focusable\n      $targetNav.find(Selector.NAV_LINK).attr({\n        tabindex: 0,\n        'aria-hidden': false\n      })\n      if (currentTranslatePercentage === -PERCENTAGE) {\n        // reset main collapse height\n        $(Selector.MEGAMENU).css('height', 'auto')\n        $rootNav.find('>.nav-item .nav-link').attr({\n          tabindex: 0,\n          'aria-hidden': false\n        })\n      }\n\n      // translate menu\n      $rootNav.css('transform', `translateX(${currentTranslatePercentage + PERCENTAGE}%)`)\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', () => {\n        $targetNavToggler.attr('aria-expanded', false)\n        $targetNavToggler.trigger('focus')\n        $thisNav.hide()\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n      })\n      return true\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        const $element = $(this)\n\n        if (!$element.is(Selector.MEGAMENU)) {\n          throw new Error('Element is not a mega menu')\n        }\n\n        let data       = $element.data(DATA_KEY)\n\n        if (!data) {\n          data = new MegaMenu(this, config)\n          $element.data(DATA_KEY, data)\n        }\n\n        if (typeof config !== 'undefined' && config) {\n          if (typeof config !== 'string' || !/^[.#].*/.test(config)) {\n            throw new Error(`Selector \"${config}\" is not supported`)\n          }\n\n          data.goTo(config)\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = MegaMenu._jQueryInterface\n  $.fn[NAME].Constructor = MegaMenu\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return MegaMenu._jQueryInterface\n  }\n\n  return MegaMenu\n\n})(jQuery)\n\nexport default MegaMenu\n"]}