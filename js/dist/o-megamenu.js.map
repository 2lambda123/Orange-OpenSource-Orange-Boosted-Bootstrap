{"version":3,"sources":["../src/o-megamenu.js"],"names":["MegaMenu","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","ARROW_UP_KEYCODE","ARROW_DOWN_KEYCODE","Event","ClassName","TRANSITIONING","Dimension","Selector","MEGAMENU","ROOT_NAV","MEGAMENU_PANEL","MEGAMENU_PANEL_NAV","MEGAMENU_NAV","NAV_MENU","NAV_ITEM","NAV_LINK","NAV_LINK_COLLAPSE","NAV_LINK_BACK","NAV_LINK_EXPANDED","element","_element","_$navLinks","find","_$goForwardLinks","prev","_$goBackLinks","_$topCollapseMenus","_addEventListeners","_addAriaAttributes","on","event","_goForward","_goBackward","_manageKeyDown","_collapseFocus","$subNavs","attr","each","navId","Util","getUID","$thisNavToggler","$thisNav","$thisNavBackLink","$topMenu","closest","parent","goBackLabel","text","length","$thisTarget","target","test","tagName","which","not","trigger","next","first","e","preventDefault","$this","$targetNav","$rootNav","currentTranslatePos","parseInt","css","split","navWidth","width","currentTranslatePercentage","hasClass","hide","show","height","addClass","one","removeClass","$targetNavToggler","_jQueryInterface","config","data","_config","extend","undefined","Error","Constructor","noConflict","jQuery"],"mappings":"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","file":"o-megamenu.js","sourcesContent":["import Util from './util'\n\n/* eslint no-magic-numbers: [\"error\", { \"ignore\": [1,2] }] */\n\n/**\n * --------------------------------------------------------------------------\n * Boosted (v4.0.0-alpha.6): o-megamenu.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MegaMenu = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'megamenu'\n  const VERSION             = '4.0.0-alpha.6'\n  const DATA_KEY            = 'bs.megamenu'\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n  const ARROW_LEFT_KEYCODE  = 37 // KeyboardEvent.which value for left arrow key\n  const ARROW_RIGHT_KEYCODE = 39 // KeyboardEvent.which value for right arrow key\n  const ARROW_UP_KEYCODE  = 38 // KeyboardEvent.which value for up arrow key\n  const ARROW_DOWN_KEYCODE = 40 // KeyboardEvent.which value for down arrow key\n\n  const Event = {\n  }\n\n  const ClassName = {\n    TRANSITIONING: 'transitioning'\n  }\n\n  const Dimension = {\n  }\n\n  const Selector = {\n    MEGAMENU    : '.mega-menu',\n    ROOT_NAV : '.mega-menu > .navbar-nav',\n    MEGAMENU_PANEL : '.mega-menu-panel',\n    MEGAMENU_PANEL_NAV : '.mega-menu-panel > .container > .navbar-nav',\n    MEGAMENU_NAV : '.nav-link + .navbar-nav',\n    NAV_MENU : '.navbar-nav',\n    NAV_ITEM : '.nav-item',\n    NAV_LINK : '.nav-link',\n    NAV_LINK_COLLAPSE : '.nav-link[data-toggle=collapse]',\n    NAV_LINK_BACK : '.nav-link.back',\n    NAV_LINK_EXPANDED : '.nav-link[aria-expanded=true]'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class MegaMenu {\n\n    constructor(element) {\n      this._element = element\n      this._$navLinks = $(this._element).find(Selector.NAV_LINK)\n      this._$goForwardLinks = $(this._element).find(Selector.MEGAMENU_NAV).prev(Selector.NAV_LINK)\n      this._$goBackLinks = $(this._element).find(Selector.NAV_LINK_BACK)\n      this._$topCollapseMenus = $(this._element).find(Selector.MEGAMENU_PANEL)\n      this._addEventListeners()\n      this._addAriaAttributes(this._element)\n    }\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    // public\n\n    // private\n\n    _addEventListeners() {\n      this._$goForwardLinks.on('click', (event) => this._goForward(event))\n      this._$goBackLinks.on('click', (event) => this._goBackward(event))\n      this._$navLinks.on('keydown', (event) => this._manageKeyDown(event))\n      this._$topCollapseMenus.on('shown.bs.collapse', this._collapseFocus)\n    }\n\n    _addAriaAttributes(element) {\n      const $subNavs = $(element).find('.nav-link + .navbar-nav')\n\n      $(element).attr('role', 'application')\n      $(element).find('> .navbar-nav').attr('role', 'menu')\n      $(element).find(Selector.MEGAMENU_PANEL).attr('role', 'menu')\n      $(element).find('.nav-link[data-toggle=collapse]').attr('role', 'menuitem')\n      $(element).find(Selector.NAV_LINK_BACK).attr({'aria-hidden': true})\n      $(element).find(Selector.NAV_ITEM).attr('role', 'presentation')\n\n      $subNavs.each(function() {\n        const navId = Util.getUID(NAME)\n        const $thisNavToggler = $(this).prev(Selector.NAV_LINK)\n        const $thisNav = $(this)\n        const $thisNavBackLink = $thisNav.find(Selector.NAV_LINK_BACK)\n        const $topMenu = $(this).closest(Selector.NAV_MENU).parent().closest(Selector.NAV_MENU).prev(Selector.NAV_LINK)\n        let goBackLabel = 'go back to ' + $topMenu.text() + ' menu'\n\n        if(!$topMenu.length) {\n          goBackLabel = 'go back to ' + $(this).closest(Selector.MEGAMENU_PANEL).prev(Selector.NAV_LINK).text() + ' menu'\n        }\n\n        $thisNav.attr({'id': navId, 'role': 'menu'})\n        $thisNavToggler.attr({'role': 'menuitem', 'aria-controls': navId, 'aria-expanded': false, 'aria-haspopup': true})\n        $thisNavBackLink.attr({'role': 'menuitem', 'aria-controls': navId, 'aria-label': goBackLabel})\n      })\n    }\n\n    _manageKeyDown(event) {\n      const $thisTarget = $(event.target)\n\n      // test key code\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return\n      }\n\n      // proceed according to key code\n      switch(event.which){\n        case ARROW_LEFT_KEYCODE:\n          this._goBackward(event)\n          break\n        case ARROW_RIGHT_KEYCODE:\n          this._goForward(event)\n          break\n        case ARROW_UP_KEYCODE:\n          // focus prev nav link\n          $thisTarget.parent().prev().find('>.nav-link').not(Selector.NAV_LINK_BACK).trigger('focus')\n          break\n        case ARROW_DOWN_KEYCODE:\n          // focus next nav link\n          $thisTarget.parent().next().find('>.nav-link').trigger('focus')\n          break\n        default:\n          return\n      }\n    }\n\n    _collapseFocus(){\n      $(this).find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n    }\n\n    _goForward(e) {\n      e.preventDefault();\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav =  $this.next(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $thisNavToggler = $this\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[4], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = 100 * currentTranslatePos / navWidth\n\n      if(!$this.next(Selector.NAV_MENU).length || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n          return false\n      }\n\n      // hide all nav on same level\n      $thisNav.find(Selector.NAV_MENU).hide()\n\n      // show target navbar-nav\n      $targetNav.show()\n\n      // adapt main collapse height to target height\n      $(Selector.MEGAMENU).height($targetNav.height())\n\n      // make only visible elements focusable\n      if(currentTranslatePercentage === 0) {\n          $rootNav.find('>.nav-item .nav-link').attr({'tabindex': -1, 'aria-hidden': true})\n      }\n      $thisNav.find(Selector.NAV_LINK).attr({'tabindex': -1, 'aria-hidden': true})\n      $targetNav.find(Selector.NAV_LINK).attr({'tabindex': 0, 'aria-hidden': false})\n\n      // translate menu\n      $rootNav.addClass(ClassName.TRANSITIONING)\n      $rootNav.css('transform', 'translateX('+(currentTranslatePercentage - 100)+'%)')\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', function() {\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n        $thisNavToggler.attr('aria-expanded', true)\n        $targetNav.find(Selector.NAV_LINK).not(Selector.NAV_LINK_BACK).first().trigger('focus')\n      })\n    }\n\n    _goBackward(e) {\n      e.preventDefault()\n\n      const $this = $(e.target)\n      const $thisNav = $this.closest(Selector.NAV_MENU)\n      const $targetNav = $thisNav.parent().closest(Selector.NAV_MENU)\n      const $rootNav = $(Selector.ROOT_NAV)\n      const $targetNavToggler = $targetNav.find(Selector.NAV_LINK_EXPANDED)\n      const $thisNavBackLink = $this\n      const currentTranslatePos = parseInt($rootNav.css('transform').split(',')[4], 10)\n      const navWidth = $rootNav.width()\n      const currentTranslatePercentage = 100 * currentTranslatePos / navWidth\n\n      if(currentTranslatePercentage === 0 || $rootNav.hasClass(ClassName.TRANSITIONING)) {\n          return false\n      }\n\n      // make only visible elements focusable\n      $targetNav.find(Selector.NAV_LINK).attr({'tabindex': 0, 'aria-hidden': false})\n      if(currentTranslatePercentage === -100) {\n        // reset main collapse height\n        $(Selector.MEGAMENU).css('height', 'auto')\n        $rootNav.find('>.nav-item .nav-link').attr({'tabindex': 0, 'aria-hidden': false})\n      }\n\n      // translate menu\n      $rootNav.addClass(ClassName.TRANSITIONING)\n      $rootNav.css('transform', 'translateX('+(currentTranslatePercentage + 100)+'%)')\n\n      // focus on target nav first item\n      $rootNav.one('transitionend', function() {\n        $rootNav.removeClass(ClassName.TRANSITIONING)\n        $targetNavToggler.attr('aria-expanded', false)\n        $targetNavToggler.trigger('focus')\n        $thisNav.hide()\n      })\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        const $this   = $(this)\n        let data    = $this.data(DATA_KEY)\n        const _config = $.extend(\n          {},\n        //   Default,\n          $this.data(),\n          typeof config === 'object' && config\n        )\n\n        if (!data) {\n          data = new MegaMenu(this, _config)\n          $this.data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = MegaMenu._jQueryInterface\n  $.fn[NAME].Constructor = MegaMenu\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return MegaMenu._jQueryInterface\n  }\n\n  return MegaMenu\n\n})(jQuery)\n\nexport default MegaMenu\n"]}