{"version":3,"file":"navbar.js","sources":["../src/o-navbar.js"],"sourcesContent":["import $ from 'jquery'\nimport Util from './util'\n\n/**\n * --------------------------------------------------------------------------\n * Boosted (v4.1.3): o-navbar.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst Navbar = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME               = 'navbar'\n  const VERSION            = '4.1.3'\n  const DATA_KEY           = 'bs.navbar'\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n  const BREAKPOINT = 768\n\n  const Default = {\n    sticky : false,\n    trigger : ''\n  }\n\n  const DefaultType = {\n    sticky : 'boolean',\n    trigger : 'string'\n  }\n\n  const Selector = {\n    SUPRA_BAR : '.navbar.supra',\n    MEGAMENU_PANEL : '.mega-menu.panel'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Navbar {\n    constructor(element, config) {\n      this._element         = element\n      this._supraBar        = element.querySelector(Selector.SUPRA_BAR)\n      this._config          = this._getConfig(config)\n      this._initialHeight = $(this._element).outerHeight()\n      this._initialSupraHeight = $(this._supraBar).outerHeight()\n\n      this._addAria()\n\n      if (this._config.sticky) {\n        $(this._element).addClass('fixed-header')\n        $(Selector.MEGAMENU_PANEL).addClass('sticky')\n        $(document.body).css('padding-top', this._initialHeight)\n\n        $(window).on('scroll', () => {\n          const Scroll = $(window).scrollTop()\n          if (Scroll > 0) {\n            $(this._element).addClass('minimized')\n          } else {\n            $(this._element).removeClass('minimized')\n          }\n        })\n      }\n\n      if (this._config.hideSupra) {\n        $(window).on('scroll', () => {\n          if ($(window).innerWidth() < BREAKPOINT) {\n            return\n          }\n\n          const Scroll = $(window).scrollTop()\n\n          if (Scroll > 0) {\n            $(Selector.SUPRA_BAR).hide()\n          } else {\n            $(Selector.SUPRA_BAR).show()\n          }\n        })\n      }\n    }\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    // private\n\n    _getConfig(config) {\n      config = $.extend({}, Default, config)\n      Util.typeCheckConfig(NAME, config, DefaultType)\n      return config\n    }\n\n    _addAria() {\n      $(this._element).find('.navbar .nav-link[data-toggle]').attr('aria-haspopup', true)\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let data = $(this).data(DATA_KEY)\n        const _config = {\n          ...Default,\n          ...$(this).data(),\n          ...typeof config === 'object' && config ? config : {}\n        }\n\n        if (!data) {\n          data = new Navbar(this, _config)\n          $(this).data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = Navbar._jQueryInterface\n  $.fn[NAME].Constructor = Navbar\n  $.fn[NAME].noConflict = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Navbar._jQueryInterface\n  }\n\n  return Navbar\n})($)\n\nexport default Navbar\n"],"names":["Navbar","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","BREAKPOINT","Default","sticky","trigger","DefaultType","Selector","SUPRA_BAR","MEGAMENU_PANEL","element","config","_element","_supraBar","querySelector","_config","_getConfig","_initialHeight","outerHeight","_initialSupraHeight","_addAria","addClass","document","body","css","window","on","Scroll","scrollTop","removeClass","hideSupra","innerWidth","hide","show","extend","Util","typeCheckConfig","find","attr","_jQueryInterface","each","data","TypeError","Constructor","noConflict"],"mappings":"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"}