{"version":3,"sources":["../src/o-navbar.js"],"names":["Navbar","$","NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","fn","BREAKPOINT","Default","sticky","trigger","DefaultType","Selector","CONFORTP_BAR","SUPRA_BAR","NAVBAR","MEGAMENU_PANEL","element","config","_element","_supraBar","find","_config","_getConfig","_initialHeight","outerHeight","_initialSupraHeight","_addAria","addClass","document","body","css","window","on","Scroll","scrollTop","removeClass","hideSupra","innerWidth","hide","show","extend","Util","typeCheckConfig","attr","_jQueryInterface","each","$this","data","undefined","Error","Constructor","noConflict","jQuery"],"mappings":"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","file":"o-navbar.js","sourcesContent":["import Util from './util'\n\n\n/**\n * --------------------------------------------------------------------------\n * Boosted (v4.0.0-alpha.6.1): o-navbar.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst Navbar = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'navbar'\n  const VERSION             = '4.0.0-alpha.6.1'\n  const DATA_KEY            = 'bs.navbar'\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n  const BREAKPOINT = 768\n\n  const Default = {\n    sticky : false,\n    trigger : ''\n  }\n\n  const DefaultType = {\n    sticky : 'boolean',\n    trigger : 'string'\n  }\n\n  const Selector = {\n    CONFORTP_BAR : '#accessibilitytoolbarGraphic',\n    SUPRA_BAR : '.navbar.supra',\n    NAVBAR : '.navbar:not(.supra)',\n    MEGAMENU_PANEL : '.mega-menu.panel'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Navbar {\n\n    constructor(element, config) {\n      this._element         = element\n      this._supraBar        = $(element).find(Selector.SUPRA_BAR)\n      this._config          = this._getConfig(config)\n      this._initialHeight = $(this._element).outerHeight()\n      this._initialSupraHeight = $(this._supraBar).outerHeight()\n\n      this._addAria()\n\n      if (this._config.sticky) {\n        $(this._element).addClass('fixed-header')\n        $(Selector.MEGAMENU_PANEL).addClass('sticky')\n        $(document.body).css('padding-top', this._initialHeight)\n\n        $(window).on('scroll', () => {\n          const Scroll = $(window).scrollTop()\n          if (Scroll > 0) {\n            $(Selector.NAVBAR).addClass('minimized')\n          } else {\n            $(Selector.NAVBAR).removeClass('minimized')\n          }\n        })\n      }\n\n      if (this._config.hideSupra) {\n        $(window).on('scroll', () => {\n          if ($(window).innerWidth() < BREAKPOINT) {\n            return\n          }\n\n          const Scroll = $(window).scrollTop()\n\n          if (Scroll > 0) {\n            $(Selector.SUPRA_BAR).hide()\n          } else {\n            $(Selector.SUPRA_BAR).show()\n          }\n        })\n      }\n    }\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    // private\n\n    _getConfig(config) {\n      config = $.extend({}, Default, config)\n      Util.typeCheckConfig(NAME, config, DefaultType)\n      return config\n    }\n\n    _addAria() {\n      $(this._element).find('.navbar .nav-link[data-toggle]').attr('aria-haspopup', true)\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        const $this   = $(this)\n        let data    = $this.data(DATA_KEY)\n        const _config = $.extend(\n          {},\n          Default,\n          $this.data(),\n          typeof config === 'object' && config\n        )\n\n        if (!data) {\n          data = new Navbar(this, _config)\n          $this.data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = Navbar._jQueryInterface\n  $.fn[NAME].Constructor = Navbar\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Navbar._jQueryInterface\n  }\n\n  return Navbar\n\n})(jQuery)\n\nexport default Navbar\n"]}