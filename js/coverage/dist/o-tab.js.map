{"version":3,"sources":["../../src/o-tab.js"],"names":["Otab","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","DEFAULT_THRESHOLD","Event","CLICK_DATA_API","ClassName","ACTIVE","SHOW","ACCORDION_LAYOUT","Selector","OTAB_HEADING","OTAB_CONTENT","element","_element","_addAccessibility","parent","find","length","addClass","show","$element","next","hasClass","removeClass","attr","$tab","$tabpanel","Util","getUID","role","tabindex","_jQueryInterface","config","each","$this","data","test","TypeError","document","on","call","event","preventDefault","Constructor","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------------------------------------\n * Boosted (v4.0.1): otab.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * ------------------------------------------------------------------------------------------------------\n */\n\nconst Otab = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'otab'\n  const VERSION             = '4.0.1'\n  const DATA_KEY            = 'bs.otab'\n  const EVENT_KEY           = `.${DATA_KEY}`\n  const DATA_API_KEY        = '.data-api'\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n  const DEFAULT_THRESHOLD   = 2\n\n  const Event = {\n    CLICK_DATA_API : `click${EVENT_KEY}${DATA_API_KEY}`\n  }\n\n  const ClassName = {\n    ACTIVE        : 'active',\n    SHOW          : 'show',\n    ACCORDION_LAYOUT: 'accordion-layout'\n  }\n\n  const Selector = {\n    OTAB_HEADING: '.o-tab-heading',\n    OTAB_CONTENT: '.o-tab-content'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Otab {\n    constructor(element) {\n      this._element = element\n      this._addAccessibility()\n\n      if ($(this._element).parent().find(Selector.OTAB_HEADING).length > DEFAULT_THRESHOLD) {\n        $(this._element).parent().addClass(ClassName.ACCORDION_LAYOUT)\n      }\n    }\n\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n\n    // public\n    show() {\n      const $element = $(this._element)\n\n      if ($element.next().hasClass(ClassName.SHOW)) {\n        return\n      }\n\n      // from parent remove all tab-content show classes\n      $element.parent().find(Selector.OTAB_CONTENT).removeClass(ClassName.SHOW)\n      // remove all aria-expanded=true\n      $element.parent().find('[aria-expanded=\"true\"]').attr('aria-expanded', false)\n      // add show class to next tab-content\n      $element.next().addClass(ClassName.SHOW)\n      // add aria-expanded=true to element\n      $element.attr('aria-expanded', true)\n    }\n\n    // private\n    _addAccessibility() {\n      const $tab = $(this._element)\n      const $tabpanel = $tab.next()\n\n      $tab.attr('id', Util.getUID(NAME))\n      $tabpanel.attr('id', Util.getUID(NAME))\n\n      $tab.attr({\n        'aria-controls': $tabpanel.attr('id'),\n        role: 'tab'\n      })\n      $tabpanel.attr({\n        'aria-labelledby': $tab.attr('id'),\n        role: 'tabpanel',\n        tabindex: 0\n      })\n\n      if ($tabpanel.hasClass(ClassName.SHOW)) {\n        $tab.attr('aria-expanded', true)\n      } else {\n        $tab.attr('aria-expanded', false)\n      }\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        const $this = $(this)\n        let data    = $this.data(DATA_KEY)\n\n        if (!data) {\n          data = new Otab(this)\n          $this.data(DATA_KEY, data)\n        }\n\n        // Boosted mod\n        if (/init/.test(config)) {\n          return\n        }\n        // end mod\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n  $(document)\n    .on('DOMContentLoaded', () => {\n      Otab._jQueryInterface.call($(Selector.OTAB_HEADING), 'init')\n    })\n    .on(Event.CLICK_DATA_API, Selector.OTAB_HEADING, function (event) {\n      event.preventDefault()\n      Otab._jQueryInterface.call($(this), ClassName.SHOW)\n    })\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = Otab._jQueryInterface\n  $.fn[NAME].Constructor = Otab\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Otab._jQueryInterface\n  }\n\n  return Otab\n})($)\n\nexport default Otab\n"],"file":"o-tab.js"}